# SQL Injection Vulnerabilities
## Login SQL Injection
* Application stores passwords in plain text.
* You can use SQL injection in the login
    * e.g. payload,
    * ' OR '1'='1
* Username field is vulnerable since it doesn't check the user input:
    * $result = mysqli_query($conn, "SELECT * FROM users WHERE password = '$password' AND username = '$username'");
## Search Field SQL Injection
* Application doesn't validate search queries in index.php and your_discussions.php
* You can use SQL injection in the search field
    * e.g. payload,
    * ' UNION SELECT id, username, password, 4, 5, 6, 7, 8 FROM users-- -
* You will see all users and passwords at the bottom of the page
* To use the UNION, you need to match the number of columns of two tables, therefore, after selecting id, username, and password, try numbers (4, 5, ...) one by one so that you can find the number of columns of the discussions.
    * queries to try one by one until it doesn't give SQL error.
    * ' UNION SELECT id, username, password, 4 FROM users-- -
    * ' UNION SELECT id, username, password, 4, 5 FROM users-- -
    * ' UNION SELECT id, username, password, 4, 5, 6 FROM users-- -
    * ' UNION SELECT id, username, password, 4, 5, 6, 7 FROM users-- -
    * ' UNION SELECT id, username, password, 4, 5, 6, 7, 8 FROM users-- -

# IDOR (Insecure Direct Object Reference)
## Edit Discussion of Another User
* Log in to your account
* Open another user's discussion and save the id of it (find it from the url)
* Open edit_discussion.php page of one of your discussions
* Change the id of the discussion with the one you gathered from another user's discussion
* Edit one of the fields
* You can see it has changed
## Delete Post and Discussion of Another User
* You can see that when you are deleting one of your posts/discussions, the application calls delete_post.php?id={post_id} or delete_discussion?id={discussion_id}
* So, when we are calling delete_post.php or delete_discussion.php with another user's post/discussion, it will be deleted even though it is not yours
* You can create a post/discussion with another user and find its id (from inspect element) and then try to delete it with another user

# File Upload
## Uploading a Malicious File as an Image
* Prepare a malicious php file
* Upload it through image uploading fields inside the creating discussions (create_discussion.php) or posting comments (single.php?id={discussion_id}) pages
* Then redirect to the images/{your_malicious_file_name.php}
* It will run the php code without any protection.